<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <title>Music Recomendation</title>
  <link href="css/1.css" rel="stylesheet" type="text/css" />
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
</head>

<body>
  <a name="top" id="top"></a>
  <center>
    <div id="menu">
      <a href="#top">home</a>
      <a href="#intro">introduction</a>
      <a href="#css">The Recommender</a>
      <a href="#about">about the author</a>
    </div>

    <div id="header">
      <h1>Music Recomendation Chatbot</h1>
    </div>

    <div id="content">

      <img class="logo" src="images/logo.png" />

      <div id="mainbar">
        <h1><a name="intro" id="intro"></a>Introduction</h1>

        <p>
          Welcome to the Music Recommendation Bot! ðŸŽµ Ready to discover your next favorite tune? Simply tell me a bit
          about your mood, the genre you're into, or even a song you already love, and I'll curate a personalized
          playlist just for you. Let's dive into the world of music together!
        </p>

        <h1><a name="css" id="css"></a>The Recommender</h1>

        <p>
          <!-- Place Holder the implement chatbot-->
          <html lang="en">

          <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>Text Box Example</title>
          </head>

          <body>
            <label for="textbox">Enter your text:</label>
            <input type="text" id="textbox" placeholder="Talk to ChatBot" name="name">
            <button onclick="chatbot_clickevent()">Enter</button>
            <div id="displayArea"></div>
            <p id="list"></p>
            <script type="text/javascript"
              src="https://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.sin.js"></script>

            <script>
              function chatbot_clickevent() {
                // Get the value from the text box / / Replace with chatbot
                var text = document.getElementById("textbox").value;
                let out = ""
                $.ajax({
                  url: 'http://localhost:8000/run_python',
                  type: 'POST',
                  contentType: 'application/json',
                  data: JSON.stringify({ prompt: text }),
                  success: function (response) {
                    console.log(response.result);
                    const botOutput = response.result
                    for (let i = 1; i < botOutput.length; ++i) {
                      out += botOutput[i] + "<br>";
                    }
                    // Display the text in a p
                    document.getElementById("list").innerHTML = out;
                  }
                });



              }


            </script>
          </body>

          </html>

        </p>


        <h1><a name="about" id="about"></a>About the Author</h1>

        <ul>
          <li>Tim Huynh</li>
          <li>Yu Dinh</li>
          <li>Sithartha Phengsavanh</li>
          <li>Kien Dang</li>
        </ul>



      </div>

    </div>

  </center>
</body>

</html>